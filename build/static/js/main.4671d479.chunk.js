(this.webpackJsonpstarting_code=this.webpackJsonpstarting_code||[]).push([[0],{117:function(e,t,n){e.exports=n(148)},147:function(e,t,n){},148:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(35),c=n.n(l),o=(n(122),n(81)),s=n(33),u=n(8),i=n(107),m=n(63),p=n(82),f=n(165),h=n(18),d=n.n(h),g=n(39),v=n(40),E=n.n(v);function b(){return k.apply(this,arguments)}function k(){return(k=Object(g.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/links");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function w(){return(w=Object(g.a)(d.a.mark((function e(t,n,a){var r,l,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={url:t,comment:n,name:a},e.prev=1,!(r.url.length>0&&r.comment.length>0&&r.name.length>0)){e.next=8;break}return e.next=5,E.a.post("/api/links",r);case 5:return l=e.sent,c=l.data,e.abrupt("return",c);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function x(){return(x=Object(g.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t},e.prev=1,e.next=4,E.a.patch("/api/links/".concat(t,"/add"),n);case 4:return a=e.sent,r=a.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function C(){return(C=Object(g.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t},e.prev=1,e.next=4,E.a.delete("/api/links/".concat(t),n);case 4:return a=e.sent,r=a.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var O=function(){var e=Object(a.useState)({url:"",comment:"",name:""}),t=Object(s.a)(e,2),n=t[0],l=t[1],c=function(e){l(Object(p.a)(Object(p.a)({},n),{},Object(m.a)({},e.target.name,e.target.value)))};return console.log("linkData",n),r.a.createElement("div",{className:"form-box create-link form-container flexbox-column"},r.a.createElement("div",{className:"nes-field"},r.a.createElement(f.a,{className:"nes-input is-success",name:"url",value:n.url,onChange:c,placeholder:"Links go here..."}),r.a.createElement(f.a,{className:"nes-input is-warning",name:"comment",value:n.comment,onChange:c,placeholder:"Comments go here..."}),r.a.createElement(f.a,{className:"nes-input is-error",name:"name",value:n.name,onChange:c,placeholder:"#Tag"})),r.a.createElement("button",{className:"nes-btn",onClick:function(e){e.preventDefault(),function(e,t,n){return w.apply(this,arguments)}(n.url,n.comment,n.name).then((function(e){console.log("created links with tag",e),window.location.reload(!1)})).catch((function(e){console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)}))},disabled:n.url.length<1}," ","Equip"))},j=n(164),N=function(e){console.log(e);var t=Object(a.useState)(),n=Object(s.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)(),u=Object(s.a)(o,2),m=u[0],p=u[1],h=Object(a.useState)(""),d=Object(s.a)(h,2),g=d[0],v=d[1];console.log(g),Object(a.useEffect)((function(){b().then((function(e){console.log(e.allLinks),c(e.allLinks),p(e.allLinks)})).catch((function(e){console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)}))}),[]);var E=function(e){console.log("search term",e);var t=m.filter((function(t){return t.url.toLowerCase().includes(e.toLowerCase())||t.tags[0].name.toLowerCase().includes(e.toLowerCase())}));c(t),console.log("filtered links",t)},k=function(e){console.log(e),function(e){return x.apply(this,arguments)}(e).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)}))},w=function(e){!function(e){C.apply(this,arguments)}(e),window.location.reload(!1)};return console.log("links",l),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"home-top"},r.a.createElement("h1",{class:"nes-icon trophy is-large"}),r.a.createElement("h1",{class:"nes-icon trophy is-large"}),r.a.createElement("h1",{class:"nes-icon trophy is-large"}),r.a.createElement("h1",{className:"myTitle"},"Favorites Keeper")),r.a.createElement(O,null),r.a.createElement("div",{className:"flexbox-search"},r.a.createElement("div",{className:"nes-input"},r.a.createElement(f.a,{placeholder:"Search",value:g,onChange:function(e){console.log(e.target.value),v(e.target.value),console.log(g),E(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"nes-btn is-success",onClick:function(){var e=m.sort((function(e,t){return t.clickCount-e.clickCount}));c(Object(i.a)(e))}},"Most Popular"))),r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"flexbox-column"},r.a.createElement("div",{className:"link-listings"},l?l.map((function(e){var t=new Date(e.dateShared);return r.a.createElement("div",{key:e.id,className:"link-card"},r.a.createElement(j.a,null,r.a.createElement(j.a.Content,{style:{border:"none"}},r.a.createElement(j.a.Header,{className:"trash-can"},r.a.createElement("a",{href:e.url.indexOf("http")?"https://".concat(e.url):"".concat(e.url),target:"_blank",rel:"noopener noreferrer",onClick:function(){return k(e.id)}},e.url),r.a.createElement("i",{className:"nes-icon close is-small",onClick:function(){return w(e.id)}})),r.a.createElement("div",null,r.a.createElement("b",null,"Date:"),"\xa0",t.toDateString()),r.a.createElement("div",null,r.a.createElement("b",null,"Hits:")," \xa0",e.clickCount),r.a.createElement("div",{className:"flexbox-wrap"},r.a.createElement("b",null,"Tags:")," \xa0",e.tags.map((function(e){return e.name.split(",").map((function(e){return console.log("tagname",e),r.a.createElement("span",{className:"tag",onClick:function(){return function(e){v(e),console.log("search term2",e);var t=m.filter((function(t){return t.tags[0].name.toLowerCase().includes(e.toLowerCase())}));c(t),console.log("filtered links2",t)}(e)}},e)}))})))),r.a.createElement(j.a.Description,null,r.a.createElement("b",null,"Comments")," ",e.comment)))})):null))))},y=function(e){return console.log("Router props",e),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(N,null)))},L=(n(147),function(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],l=t[1];return Object(a.useEffect)((function(){b().then((function(e){console.log(e.allLinks),l(e.allLinks)}))}),[]),console.log("links",n),r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null))});c.a.render(r.a.createElement(o.a,null,r.a.createElement(L,null)),document.getElementById("root"))}},[[117,1,2]]]);
//# sourceMappingURL=main.4671d479.chunk.js.map