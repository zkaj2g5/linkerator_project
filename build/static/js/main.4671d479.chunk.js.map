{"version":3,"sources":["api/index.js","components/CreateLinks.js","components/Home.js","components/utils/Routes.js","components/App.js","index.js"],"names":["getLinks","a","axios","get","data","url","comment","name","dataToSend","length","post","id","patch","delete","CreateLinks","useState","linkData","setLinkData","handleChanges","event","target","value","console","log","className","Input","onChange","placeholder","onClick","preventDefault","createLinksWithTags","then","result","window","location","reload","catch","error","response","status","headers","disabled","Home","props","links","setLinks","copyLinks","setCopyLinks","search","setSearch","useEffect","allLinks","searchLinks","searchTerm","filteredLinks","filter","link","toLowerCase","includes","tags","addCount","addClick","removeLink","deleteLink","class","type","sort","b","clickCount","map","date","Date","dateShared","key","Card","Content","style","border","Header","href","indexOf","rel","toDateString","tag","split","searchTag","Description","Routes","exact","path","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4671d479.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport async function getLinks() {\n  try {\n    const { data } = await axios.get('/api/links');\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getLinksByTag(tag) {\n  try {\n    const { data } = await axios.get(`/api/tags/${tag}/links`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function createLinksWithTags(url, comment, name) {\n  const dataToSend = { url, comment, name };\n  try {\n    if (\n      dataToSend.url.length > 0 &&\n      dataToSend.comment.length > 0 &&\n      dataToSend.name.length > 0\n    ) {\n      const { data } = await axios.post(`/api/links`, dataToSend);\n      return data;\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function updateLink(id, comment) {\n  const dataToSend = { comment };\n  try {\n    const { data } = await axios.patch(`/api/links/${id}`, dataToSend);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function addClick(id) {\n  const dataToSend = { id };\n  try {\n    const { data } = await axios.patch(`/api/links/${id}/add`, dataToSend);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function deleteLink(id) {\n  const dataToSend = { id };\n  try {\n    const { data } = await axios.delete(`/api/links/${id}`, dataToSend);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n","import React, { useState } from 'react';\nimport { Input } from 'semantic-ui-react';\nimport { createLinksWithTags } from '../api';\n\nconst CreateLinks = () => {\n  const [linkData, setLinkData] = useState({\n    url: '',\n    comment: '',\n    name: '',\n  });\n\n  const sendLink = (event) => {\n    event.preventDefault();\n    createLinksWithTags(linkData.url, linkData.comment, linkData.name)\n      .then((result) => {\n        console.log('created links with tag', result);\n        window.location.reload(false);\n      })\n      .catch((error) => {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      });\n  };\n  const handleChanges = (event) => {\n    setLinkData({ ...linkData, [event.target.name]: event.target.value });\n  };\n  console.log('linkData', linkData);\n  return (\n    <div className='form-box create-link form-container flexbox-column'>\n      <div className='nes-field'>\n        <Input\n          className='nes-input is-success'\n          name='url'\n          value={linkData.url}\n          onChange={handleChanges}\n          placeholder='Links go here...'\n        />\n        <Input\n          className='nes-input is-warning'\n          name='comment'\n          value={linkData.comment}\n          onChange={handleChanges}\n          placeholder='Comments go here...'\n        />\n        <Input\n          className='nes-input is-error'\n          name='name'\n          value={linkData.name}\n          onChange={handleChanges}\n          placeholder='#Tag'\n        />\n      </div>\n      <button\n        className='nes-btn'\n        onClick={sendLink}\n        disabled={linkData.url.length < 1}\n      >\n        {' '}\n        Equip\n      </button>\n    </div>\n  );\n};\n\nexport default CreateLinks;\n","import React, { useState, useEffect } from 'react';\nimport CreateLinks from './CreateLinks';\nimport { Card, Input } from 'semantic-ui-react';\nimport { getLinks, addClick, deleteLink } from '../api';\n\nconst Home = (props) => {\n  console.log(props);\n  const [links, setLinks] = useState();\n  const [copyLinks, setCopyLinks] = useState();\n  const [search, setSearch] = useState('');\n\n  const handleChanges = (event) => {\n    console.log(event.target.value);\n    setSearch(event.target.value);\n    console.log(search);\n    searchLinks(event.target.value);\n  };\n  console.log(search);\n\n  useEffect(() => {\n    getLinks()\n      .then((response) => {\n        console.log(response.allLinks);\n        setLinks(response.allLinks);\n        setCopyLinks(response.allLinks);\n      })\n      .catch((error) => {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      });\n  }, []);\n\n  const searchLinks = (searchTerm) => {\n    console.log('search term', searchTerm);\n    const filteredLinks = copyLinks.filter((link) => {\n      return (\n        link.url.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        link.tags[0].name.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    });\n    setLinks(filteredLinks);\n    console.log('filtered links', filteredLinks);\n  };\n\n  const searchTag = (searchTerm) => {\n    setSearch(searchTerm);\n    console.log('search term2', searchTerm);\n    const filteredLinks = copyLinks.filter((link) => {\n      return link.tags[0].name.toLowerCase().includes(searchTerm.toLowerCase());\n    });\n    setLinks(filteredLinks);\n    console.log('filtered links2', filteredLinks);\n  };\n\n  const filterPopular = () => {\n    const filteredLinks = copyLinks.sort((a, b) => {\n      return b.clickCount - a.clickCount;\n    });\n    setLinks([...filteredLinks]);\n  };\n\n  const addCount = (id) => {\n    console.log(id);\n    addClick(id)\n      .then((response) => {\n        console.log(response);\n        window.location.reload(false);\n      })\n      .catch((error) => {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      });\n  };\n\n  const removeLink = (id) => {\n    deleteLink(id);\n    window.location.reload(false);\n  };\n\n  console.log('links', links);\n\n  return (\n    <>\n      <div className='home-top'>\n        <h1 class='nes-icon trophy is-large'></h1>\n        <h1 class='nes-icon trophy is-large'></h1>\n        <h1 class='nes-icon trophy is-large'></h1>\n        <h1 className='myTitle'>Favorites Keeper</h1>\n      </div>\n\n      <CreateLinks />\n      <div className='flexbox-search'>\n        <div className='nes-input'>\n          <Input placeholder='Search' value={search} onChange={handleChanges} />\n        </div>\n        <div>\n          <button\n            type='button'\n            className='nes-btn is-success'\n            onClick={filterPopular}\n          >\n            Most Popular\n          </button>\n        </div>\n      </div>\n      <div className='home'>\n        <div className='flexbox-column'>\n          <div className='link-listings'>\n            {links\n              ? links.map((link) => {\n                  const date = new Date(link.dateShared);\n                  return (\n                    <div key={link.id} className='link-card'>\n                      <Card>\n                        <Card.Content style={{ border: 'none' }}>\n                          <Card.Header className='trash-can'>\n                            <a\n                              href={\n                                !link.url.indexOf('http')\n                                  ? `${link.url}`\n                                  : `https://${link.url}`\n                              }\n                              target='_blank'\n                              rel='noopener noreferrer'\n                              onClick={() => addCount(link.id)}\n                            >\n                              {link.url}\n                            </a>\n                            <i\n                              className='nes-icon close is-small'\n                              onClick={() => removeLink(link.id)}\n                            ></i>\n                          </Card.Header>\n                          <div>\n                            <b>Date:</b>&nbsp;\n                            {date.toDateString()}\n                          </div>\n                          <div>\n                            <b>Hits:</b> &nbsp;\n                            {link.clickCount}\n                          </div>\n                          <div className='flexbox-wrap'>\n                            <b>Tags:</b> &nbsp;\n                            {link.tags.map((tag) => {\n                              return tag.name.split(',').map((name) => {\n                                console.log('tagname', name);\n                                return (\n                                  <span\n                                    className='tag'\n                                    onClick={() => searchTag(name)}\n                                  >\n                                    {name}\n                                  </span>\n                                );\n                              });\n                            })}\n                          </div>\n                        </Card.Content>\n                        <Card.Description>\n                          <b>Comments</b> {link.comment}\n                        </Card.Description>\n                      </Card>\n                    </div>\n                  );\n                })\n              : null}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Home from \"../Home\";\n\nconst Routes = (props) => {\n  console.log(\"Router props\", props);\n  return (\n    <>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n    </>\n  );\n};\n\nexport default Routes;\n","import React, { useState, useEffect } from 'react';\nimport Routes from './utils/Routes';\nimport './styles.css';\n\nimport { getLinks } from '../api';\n\nconst App = () => {\n  const [links, setLinks] = useState({});\n\n  useEffect(() => {\n    getLinks().then((response) => {\n      console.log(response.allLinks);\n      setLinks(response.allLinks);\n    });\n  }, []);\n\n  console.log('links', links);\n\n  return (\n    <>\n      <Routes />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'nes.css/css/nes.min.css';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport { App } from './components';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}